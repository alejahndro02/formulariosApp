<h2>Formularios Reactivos
    <span>dinamicos</span>
</h2>

<form (ngSubmit)="guardar()"
    autocomplete="off"
    [formGroup]="formularioDinamicoReactivo">

    <div class="mb-3 row">
        <label for="" class="col-sm-3 col-form-label">Nombre</label>

        <div class="col-sm-9">
            <input type="text" 
                class="form-control"
                formControlName="nombre" 
                placeholder="Nombre de la Persona">

            <span *ngIf="campoNoValido('nombre')"
                class="form-text text-danger">   
                <strong>Este campo es obligatorio y debe tener 3 letras como minimo</strong>
            </span>

        </div>
    </div>

    <!-- Agregar Juego -->
    <div class="mb-3 row">
        <label for="" class="col-sm-3 col-form-label">Aregar</label>

        <div class="col-sm-9">

            <div class="input-group">
                <input class="form-control" 
                    placeholder="Agregar Juego Favorito">
                <button class="btn btn-outline-primary" 
                        type="button">
                    Agrear
                </button>
            </div>

        </div>
    </div>

    <!-- Lista de Juegos -->
    <div class="mb-3 row">
        <label class="col-sm-3 col-form-label">
                Lista de Juegos
        </label>

        <div class="col-sm-9" formArrayName="favoritos">
<!-- *ngFor="let favorito of formularioDinamicoReactivo.controls['favoritos'].value" -->
            <div class="input-group mb-1" 
                *ngFor="let favorito of favoritosArr.controls; let i = index">
                <input class="form-control" 
                    [formControlName]="i">

                <button class="btn btn-outline-danger" 
                    type="button" >
                    Eliminar
                </button>

            </div>
        
        </div>

    </div>

    <div class="row">

        <div class="col-sm-12">

            <button type="submit" 
                class="btn btn-primary float-end">
                    Guardar
            </button>

        </div>

    </div>

</form>
<div class="row">
    <div class="col">
        <span>Valido</span>
        <pre> {{formularioDinamicoReactivo.valid}} </pre>

        <span>Pristine</span>
        <pre> {{formularioDinamicoReactivo.pristine}} </pre>
        <span>Touches</span>
        <pre> {{formularioDinamicoReactivo.touched}} </pre>
        
        <span>Value</span>
        <pre> Formulario Reactivo {{ formularioDinamicoReactivo.value | json}} </pre>
        <br>

    </div>
</div>
